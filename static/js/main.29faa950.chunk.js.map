{"version":3,"sources":["index.js"],"names":["projectName","isOperator","endsWithOperator","endsWithNegativeSign","clearStyle","background","operatorStyle","equalsStyle","position","height","bottom","Calculator","props","handleSubmit","e","preventDefault","state","currentVal","includes","evaluated","expression","formula","test","slice","replace","answer","Math","round","eval","AUXILIAR","prevVal","currentSign","lastClicked","messages","maxDigitWarning","bind","handleOperators","handleEvaluate","initialize","handleDecimal","handleNumbers","fetch","then","res","json","console","log","setState","this","setTimeout","toString","DATA","data","axios","post","catch","err","error","value","target","length","match","className","Formula","Output","currentValue","Buttons","decimal","evaluate","numbers","operators","submit","map","item","key","id","user","React","Component","onClick","style","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29faa950.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport axios from 'axios';\n\n/* global React, ReactDOM */\n/* eslint-disable react/prop-types, react/no-multi-comp,\n no-eval, no-nested-ternary */\n\n// eslint-disable-next-line no-unused-vars\nconst projectName = 'javascript-calculator';\n\n// To see a more advanced version of this app with features such as toggle sign\n// and Clear Entry buttons, see this pen\n// https://codepen.io/no_stack_dub_sack/full/jrxpKP/\n\n// coded by @no-stack-dub-sack (github) / @no_stack_sub_sack (codepen)\n\n// VARS:\nconst isOperator = /[x/+‑]/,\n  endsWithOperator = /[x+‑/]$/,\n  endsWithNegativeSign = /[x/+]‑$/,\n  clearStyle = { background: '#ff6868' },\n  operatorStyle = { background: '#666666' },\n  equalsStyle = {\n    background: '#00d6dd',\n    position: 'absolute',\n    height: 130,\n    bottom: 5\n  };\n\n// COMPONENTS:\nclass Calculator extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentVal: '0',\n      prevVal: '0',\n      formula: '',\n      currentSign: 'pos',\n      lastClicked: '',\n      messages:[]\n    };\n    this.maxDigitWarning = this.maxDigitWarning.bind(this);\n    this.handleOperators = this.handleOperators.bind(this);\n    this.handleEvaluate = this.handleEvaluate.bind(this);\n    this.initialize = this.initialize.bind(this);\n    this.handleDecimal = this.handleDecimal.bind(this);\n    this.handleNumbers = this.handleNumbers.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount(){\n    const url = \"/users\";\n    fetch(url).then(res => res.json()).then(messages => {\n      console.log(messages);\n      return this.setState({messages});\n    });\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (!this.state.currentVal.includes('Limit') && this.state.evaluated === false) {\n      let expression = this.state.formula;\n      while (endsWithOperator.test(expression)) {\n        expression = expression.slice(0, -1);\n      }\n      expression = expression.replace(/x/g, '*').replace(/‑/g, '-');\n      let answer = Math.round(1000000000000 * eval(expression)) / 1000000000000;\n      const AUXILIAR = expression.replace(/\\*/g, '⋅').replace(/-/g, '‑') + '=' + answer\n    }\n  }\n\n  maxDigitWarning() {\n    this.setState({\n      currentVal: 'Digit Limit Met',\n      prevVal: this.state.currentVal\n    });\n    setTimeout(() => this.setState({ currentVal: this.state.prevVal }), 1000);\n  }\n\n  handleEvaluate(e) {\n    e.preventDefault();\n    if (!this.state.currentVal.includes('Limit') && this.state.evaluated === false) {\n      let expression = this.state.formula;\n      while (endsWithOperator.test(expression)) {\n        expression = expression.slice(0, -1);\n      }\n      expression = expression.replace(/x/g, '*').replace(/‑/g, '-');\n      let answer = Math.round(1000000000000 * eval(expression)) / 1000000000000;\n      this.setState({\n        currentVal: answer.toString(),\n        formula:\n          expression.replace(/\\*/g, '⋅').replace(/-/g, '‑') + '=' + answer,\n        prevVal: answer,\n        evaluated: true\n      });\n\n      const DATA = {data:expression.replace(/\\*/g, 'x').replace(/-/g, '‑') + '=' + answer};\n\n      axios\n      .post('/users', DATA)\n      .then(() => console.log('Data submitted succesfully!'))\n      .catch(err => {\n        console.error(err);\n      });\n    }\n  }\n\n  handleOperators(e) {\n    if (!this.state.currentVal.includes('Limit')) {\n      const value = e.target.value;\n      const { formula, prevVal, evaluated } = this.state;\n      this.setState({ currentVal: value, evaluated: false });\n      if (evaluated) {\n        this.setState({ formula: prevVal + value });\n      } else if (!endsWithOperator.test(formula)) {\n        this.setState({\n          prevVal: formula,\n          formula: formula + value\n        });\n      } else if (!endsWithNegativeSign.test(formula)) {\n        this.setState({\n          formula: (endsWithNegativeSign.test(formula + value)\n            ? formula : prevVal) + value\n        });\n      } else if (value !== '‑') {\n        this.setState({\n          formula: prevVal + value\n        });\n      }\n    }\n  }\n\n  handleNumbers(e) {\n    if (!this.state.currentVal.includes('Limit')) {\n      const { currentVal, formula, evaluated } = this.state;\n      const value = e.target.value;\n      this.setState({ evaluated: false });\n      if (currentVal.length > 21) {\n        this.maxDigitWarning();\n      } else if (evaluated) {\n        this.setState({\n          currentVal: value,\n          formula: value !== '0' ? value : ''\n        });\n      } else {\n        this.setState({\n          currentVal:\n            currentVal === '0' || isOperator.test(currentVal)\n              ? value\n              : currentVal + value,\n          formula:\n            currentVal === '0' && value === '0'\n              ? formula === '' ? value : formula\n              : (/([^.0-9]0|^0)$/).test(formula)\n                ? formula.slice(0, -1) + value\n                : formula + value\n        });\n      }\n    }\n  }\n\n  handleDecimal() {\n    if (this.state.evaluated === true) {\n      this.setState({\n        currentVal: '0.',\n        formula: '0.',\n        evaluated: false\n      });\n    } else if (\n      !this.state.currentVal.includes('.') &&\n      !this.state.currentVal.includes('Limit')\n    ) {\n      this.setState({ evaluated: false });\n      if (this.state.currentVal.length > 21) {\n        this.maxDigitWarning();\n      } else if (\n        endsWithOperator.test(this.state.formula) ||\n        (this.state.currentVal === '0' && this.state.formula === '')\n      ) {\n        this.setState({\n          currentVal: '0.',\n          formula: this.state.formula + '0.'\n        });\n      } else {\n        this.setState({\n          currentVal: this.state.formula.match(/(-?\\d+\\.?\\d*)$/)[0] + '.',\n          formula: this.state.formula + '.'\n        });\n      }\n    }\n  }\n\n  initialize() {\n    this.setState({\n      currentVal: '0',\n      prevVal: '0',\n      formula: '',\n      currentSign: 'pos',\n      lastClicked: '',\n      evaluated: false\n    });\n  }\n\n  render() {\n    return (\n      <div className='cont'>\n        <div className='calc'>\n        <h1>Calculadora</h1>\n        <div className='calculator'>\n          <Formula formula={this.state.formula.replace(/x/g, '⋅')} />\n          <Output currentValue={this.state.currentVal} />\n          <Buttons\n            decimal={this.handleDecimal}\n            evaluate={this.handleEvaluate}\n            initialize={this.initialize}\n            numbers={this.handleNumbers}\n            operators={this.handleOperators}\n            submit={this.handleSubmit}\n          />\n        </div>\n        </div>\n        <div className='res'>\n        <h1>Resultados</h1>\n        <div className='chat'>\n        <h3>Calcula...</h3>\n        <ul>\n        {this.state.messages.map(item=>\n          <li key={item.id}><em>{item.id}.-</em> {item.user}</li>\n        )}\n        </ul>\n        </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Buttons extends React.Component {\n  render() {\n    return (\n      <div>\n        <button\n          className='jumbo'\n          id='clear'\n          onClick={this.props.initialize}\n          style={clearStyle}\n          value='AC'\n          >\n          AC\n        </button>\n        <button\n          id='divide'\n          onClick={this.props.operators}\n          style={operatorStyle}\n          value='/'\n          >\n          /\n        </button>\n        <button\n          id='multiply'\n          onClick={this.props.operators}\n          style={operatorStyle}\n          value='x'\n          >\n          x\n        </button>\n        <button id='seven' onClick={this.props.numbers} value='7'>\n          7\n        </button>\n        <button id='eight' onClick={this.props.numbers} value='8'>\n          8\n        </button>\n        <button id='nine' onClick={this.props.numbers} value='9'>\n          9\n        </button>\n        <button\n          id='subtract'\n          onClick={this.props.operators}\n          style={operatorStyle}\n          value='‑'\n          >\n          -\n        </button>\n        <button id='four' onClick={this.props.numbers} value='4'>\n          4\n        </button>\n        <button id='five' onClick={this.props.numbers} value='5'>\n          5\n        </button>\n        <button id='six' onClick={this.props.numbers} value='6'>\n          6\n        </button>\n        <button\n          id='add'\n          onClick={this.props.operators}\n          style={operatorStyle}\n          value='+'\n          >\n          +\n        </button>\n        <button id='one' onClick={this.props.numbers} value='1'>\n          1\n        </button>\n        <button id='two' onClick={this.props.numbers} value='2'>\n          2\n        </button>\n        <button id='three' onClick={this.props.numbers} value='3'>\n          3\n        </button>\n        <button\n          className='jumbo'\n          id='zero'\n          onClick={this.props.numbers}\n          value='0'\n          >\n          0\n        </button>\n        <button id='decimal' onClick={this.props.decimal} value='.'>\n          .\n        </button>\n        <button\n          id='equals'\n          onClick={this.props.evaluate}\n          style={equalsStyle}\n          value='='\n          >\n          =\n        </button>\n      </div>\n    );\n  }\n}\n\nclass Output extends React.Component {\n  render() {\n    return (\n      <div className='outputScreen' id='display'>\n        {this.props.currentValue}\n      </div>\n    );\n  }\n}\n\nclass Formula extends React.Component {\n  render() {\n    return <div className='formulaScreen'>{this.props.formula}</div>;\n  }\n}\n\nReactDOM.render(<Calculator />, document.getElementById('root'));\n"],"sourceRoot":""}